<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MyFinanceApp.MainPage">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="20%"/>
            <RowDefinition Height="60%"/>
            <RowDefinition Height="20%"/>
        </Grid.RowDefinitions>

        <!-- Верхняя область -->
        <StackLayout Grid.Row="0" Padding="10">
            <Label Text="Мои финансы"
                   FontSize="24"
                   HorizontalOptions="Center" />
            <Label x:Name="BalanceLabel"
                   Text="25 000 ₽"
                   FontSize="32"
                   HorizontalOptions="Center" />
            <ProgressBar x:Name="BalanceProgressBar"
                         Progress="0.5"
                         HeightRequest="20"
                         Margin="10"/>
        </StackLayout>

        <!-- Центральная область -->
        <CollectionView Grid.Row="1" x:Name="TransactionCollectionView">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <StackLayout Orientation="Horizontal" Padding="10">
                        <Image Source="{Binding CategoryIcon}" WidthRequest="40" HeightRequest="40"/>
                        <StackLayout Orientation="Vertical" Margin="10,0">
                            <Label Text="{Binding Description}" FontSize="Medium"/>
                            <Label Text="{Binding Date}" FontSize="Small" TextColor="Gray"/>
                        </StackLayout>
                        <Label Text="{Binding Amount, StringFormat='{}{0:C}'}" HorizontalOptions="EndAndExpand"/>
                    </StackLayout>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <!-- Нижняя панель -->
        <HorizontalStackLayout Grid.Row="2" Padding="10" Spacing="20" HorizontalOptions="Center">
            <Button Text="Доход" Clicked="OnIncomeButtonClicked"/>
            <Button Text="Расход" Clicked="OnExpenseButtonClicked"/>
            <Button Text="Отчеты" Clicked="OnReportButtonClicked"/>
        </HorizontalStackLayout>
    </Grid>
</ContentPage>
